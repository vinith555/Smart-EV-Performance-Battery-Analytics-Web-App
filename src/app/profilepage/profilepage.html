<div class="min-h-screen p-6">

  <div class="max-w-6xl mx-auto bg-white rounded-xl shadow-md overflow-hidden">

    <div class="grid md:grid-cols-3">

      <!-- LEFT PROFILE PANEL -->
      <div class="bg-gray-50 p-8 flex flex-col items-center">

        <div class="relative">
          <img 
            src="https://i.pravatar.cc/150" 
            alt="Profile"
            class="w-40 h-40 rounded-full object-cover border-2 border-green-100"
          />

          <label class="absolute bottom-2 right-2 bg-[#00712D] text-white p-2 rounded-full cursor-pointer hover:scale-110 transition">
            <i class="fas fa-camera"></i>
            <input type="file" class="hidden">
          </label>
        </div>

        <h2 class="text-2xl text-[#00712D] font-semibold">{{user.name}}</h2>

        <span class="bg-white text-[#00712D] border-2 text-sm px-4 py-1 rounded-full mt-2 font-medium">
          {{user.role}}
        </span>

        <div class="mt-6 font-semibold space-y-3 w-full">

          <div class="flex items-center gap-3">
            <i class="fas fa-envelope text-[#00712D]"></i>
            <span class="text-black">{{user.email}}</span>
          </div>

          <div class="flex items-center gap-3">
            <i class="fas fa-phone text-[#00712D]"></i>
            <span class="text-black">{{user.phone}}</span>
          </div>

        </div>

        <p class="text-gray-600 text-sm mt-6 text-center leading-relaxed">
          {{user.bio}}
        </p>

        <!-- Social -->
        <div class="flex gap-4 mt-6 text-lg">
          <a class="bg-white border-2 text-[#00712D] p-2 rounded-full hover:scale-110 transition">
            <i class="fab fa-linkedin-in"></i>
          </a>
          <a class="bg-white border-2 text-[#00712D] p-2 rounded-full hover:scale-110 transition">
            <i class="fab fa-twitter"></i>
          </a>
          <a class="bg-white border-2 text-[#00712D] p-2 rounded-full hover:scale-110 transition">
            <i class="fab fa-facebook-f"></i>
          </a>
        </div>

      </div>

      <!-- RIGHT CONTENT -->
      <div class="md:col-span-2 p-8">

        <!-- Header -->
        <div class="flex justify-between items-center border-b pb-4">
          <h1 class="text-2xl font-semibold text-[#00712D]">Profile</h1>
        </div>

        <!-- Account Info + Metrics -->
        <div class="grid md:grid-cols-2 gap-8 mt-8">

          <!-- Account Info -->
          <div>
            <div class="flex flex-row gap-x-2 justify-between">
                <h3 class="text-lg font-semibold text-gray-700 mb-4">
                    Account Information
                </h3>
                <button class="text-[#00712D] hover:text-green-700 cursor-pointer" (click)="editProfileForm = true"><i class="fas fa-edit"></i></button>
            </div>
            <div class="space-y-3 text-sm text-gray-600">

              <div class="flex justify-between">
                <span>Username</span>
                <span class="font-medium text-gray-800">{{user.username}}</span>
              </div>
              <div class="flex justify-between">
                <span>Email</span>
                <span class="font-medium text-gray-800">{{user.email}}</span>
              </div>

              <div class="flex justify-between">
                <span>Ph.No</span>
                <span class="font-medium text-gray-800">{{user.phone}}</span>
              </div>

              <div class="flex justify-between">
                <span>Account Created</span>
                <span class="font-medium text-gray-800">{{user.created}}</span>
              </div>

              <div class="flex justify-between">
                <span>Last Login</span>
                <span class="font-medium text-gray-800">{{user.lastLogin}}</span>
              </div>

              <div class="flex justify-between items-center">
                <span>Status</span>
                <span [ngClass]="{
                    'text-red-500 bg-red-100': user.status === 'Inactive',
                    'text-green-500 bg-green-100': user.status === 'Active',
                    'text-yellow-500 bg-yellow-100': user.status === 'Suspended'
                }" class="flex items-center gap-1 py-1 px-3 rounded-full font-medium">
                  <span [ngClass]="{
                    'bg-red-500': user.status === 'Inactive',
                    'bg-green-500': user.status === 'Active',
                    'bg-yellow-500': user.status === 'Suspended'
                  }" class="w-2 h-2 rounded-full"></span>
                  {{user.status}}
                </span>
              </div>

            </div>
          </div>

          <!-- Key Metrics -->
          <div>
            <h3 class="text-lg font-semibold text-gray-700 mb-4">
              Notifications
            </h3>

            <div class="space-y-4 h-64 overflow-y-auto">
              <div *ngFor="let notification of notification" class="bg-green-100 p-4 rounded-lg flex justify-between items-center hover:shadow transition">
                <p class="text-gray-600 text-sm">{{notification.msg | slice:0:20}}...</p>
                <i class="fas fa-bell text-lg"
                [ngClass]="{
                    'text-red-500': notification.severity === 'High',
                    'text-yellow-500': notification.severity === 'Medium',
                    'text-green-500': notification.severity === 'Low'
                }">
                </i>
              </div>

            </div>
          </div>

        </div>

        <!-- Settings Section -->
        <div class="mt-10">

          <h3 class="text-lg font-semibold text-gray-700 mb-4">
            Settings
          </h3>

          <div class="grid md:grid-cols-2 gap-4">

            <button class="border border-green-600 p-4 rounded-lg hover:bg-gray-100 transition text-left" (click)="changePassword()">
              <i class="fas fa-key mr-2 text-[#00712D]"></i>
              Change Password
            </button>

            <button class="border border-green-600 p-4 rounded-lg hover:bg-gray-100 transition text-left">
              <i class="fas fa-shield-alt mr-2 text-[#00712D]"></i>
              Two-Factor Authentication
            </button>

            <button class="border p-4 rounded-lg hover:bg-red-50 text-red-600 transition text-left" (click)="logOut()">
              <i class="fas fa-sign-out-alt mr-2"></i>
              Logout
            </button>

          </div>

        </div>

      </div>

    </div>

  </div>

</div>

<div *ngIf="editProfileForm"
     class="min-h-screen w-full fixed inset-0 flex items-center justify-center bg-black/40 z-50">

  <form
    #form="ngForm"
    (ngSubmit)="updateProfile(form)"
    class="bg-white shadow-lg border-2 border-gray-200 rounded-xl p-6 w-full max-w-2xl">

    <!-- Title -->
    <div class="flex justify-between items-center pb-3 mb-4">
      <h2 class="text-xl font-semibold text-gray-800">
        Edit Profile Information
      </h2>

      <button type="button"
              (click)="editProfileForm = false"
              class="text-gray-500 hover:text-red-500 transition">
        <i class="fa-solid fa-xmark text-xl"></i>
      </button>
    </div>

    <!-- FORM GRID -->
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 max-h-[420px] overflow-y-auto pr-2">

      <!-- Name -->
      <div>
        <p class="font-semibold text-sm">Full Name</p>
        <input type="text"
               name="name"
               [(ngModel)]="user.name"
               class="w-full border-2 border-gray-300 rounded p-2 focus:border-[#00712D] focus:outline-none" />
      </div>

      <!-- Username -->
      <div>
        <p class="font-semibold text-sm">Username</p>
        <input type="text"
               name="username"
               [(ngModel)]="user.username"
               class="w-full border-2 border-gray-300 rounded p-2 focus:border-[#00712D] focus:outline-none" />
      </div>

      <!-- Email -->
      <div>
        <p class="font-semibold text-sm">Email</p>
        <input type="email"
               name="email"
               [(ngModel)]="user.email"
               class="w-full border-2 border-gray-300 rounded p-2 focus:border-[#00712D] focus:outline-none" />
      </div>

      <!-- Phone -->
      <div>
        <p class="font-semibold text-sm">Phone</p>
        <input type="text"
               name="phone"
               [(ngModel)]="user.phone"
               class="w-full border-2 border-gray-300 rounded p-2 focus:border-[#00712D] focus:outline-none" />
      </div>

      <!-- Role (Disabled) -->
      <div>
        <p class="font-semibold text-sm">Role</p>
        <input type="text"
               [value]="user.role"
               disabled
               class="w-full border-2 border-gray-200 bg-gray-100 text-gray-500 rounded p-2 cursor-not-allowed" />
      </div>
      <!-- Status -->
        <div>
        <p class="font-semibold text-sm">Status</p>
        <select
            name="status"
            [(ngModel)]="user.status"
            class="w-full border-2 border-gray-300 rounded p-2 focus:border-[#00712D] focus:outline-none">

            <option value="">Select</option>
            <option value="Active">Active</option>
            <option value="Inactive">Inactive</option>
            <option value="Suspended">Suspended</option>

        </select>
        </div>
      <!-- Profile Image -->
      <div>
        <p class="font-semibold text-sm">Profile Image</p>
        <input type="file"
               name="profileImage"
               class="w-full border-2 border-gray-300 rounded p-2" />
      </div>

      <!-- Bio -->
      <div class="sm:col-span-2">
        <p class="font-semibold text-sm">Bio</p>
        <textarea name="bio"
                  [(ngModel)]="user.bio"
                  class="w-full h-24 border-2 border-gray-300 rounded p-2 focus:border-[#00712D] focus:outline-none">
        </textarea>
      </div>

      <!-- Social Media Section -->
      <div class="sm:col-span-2 border-t pt-4 mt-2">
        <h3 class="text-md font-semibold text-gray-700 mb-3">
          Social Media Links
        </h3>
      </div>

      <!-- LinkedIn -->
      <div class="sm:col-span-2">
        <p class="font-semibold text-sm flex items-center gap-2">
          <i class="fab fa-linkedin text-[#00712D]"></i> LinkedIn
        </p>
        <input type="url"
               name="linkedin"
               [(ngModel)]="user.linkedin"
               placeholder="https://linkedin.com/in/yourprofile"
               class="w-full border-2 border-gray-300 rounded p-2 focus:border-[#00712D] focus:outline-none" />
      </div>

      <!-- Twitter -->
      <div class="sm:col-span-2">
        <p class="font-semibold text-sm flex items-center gap-2">
          <i class="fab fa-twitter text-[#00712D]"></i> Twitter
        </p>
        <input type="url"
               name="twitter"
               [(ngModel)]="user.twitter"
               placeholder="https://twitter.com/yourprofile"
               class="w-full border-2 border-gray-300 rounded p-2 focus:border-[#00712D] focus:outline-none" />
      </div>

      <!-- Facebook -->
      <div class="sm:col-span-2">
        <p class="font-semibold text-sm flex items-center gap-2">
          <i class="fab fa-facebook text-[#00712D]"></i> Facebook
        </p>
        <input type="url"
               name="facebook"
               [(ngModel)]="user.facebook"
               placeholder="https://facebook.com/yourprofile"
               class="w-full border-2 border-gray-300 rounded p-2 focus:border-[#00712D] focus:outline-none" />
      </div>

    </div>

    <!-- BUTTONS -->
    <div class="flex justify-between mt-6">

      <button type="button"
              (click)="editProfileForm = false"
              class="px-4 py-2 rounded-full bg-red-100 text-red-600 border-2 border-red-300
                     hover:bg-red-600 hover:text-white transition">
        Cancel
      </button>

      <button type="submit"
              class="px-4 py-2 rounded-full bg-green-100 text-green-600 border-2 border-green-300
                     hover:bg-green-600 hover:text-white transition">
        Update Profile
      </button>

    </div>

  </form>
</div>